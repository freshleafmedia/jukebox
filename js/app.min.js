!function t(i,e,n){function o(a,l){if(!e[a]){if(!i[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var d=e[a]={exports:{}};i[a][0].call(d.exports,function(t){var e=i[a][1][t];return o(e?e:t)},d,d.exports,t,i,e,n)}return e[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,i,e){function n(){gapi.client.setApiKey("AIzaSyC5ZNaxUE7HwOxi6r5xMq9aeRlUVdJXU7I"),gapi.auth.init(function(){gapi.client.load("youtube","v3",function(){o()})})}function o(){$("#search").prop("disabled",!1)}function s(t){var i=gapi.client.youtube.search.list({q:t,part:"snippet",maxResults:"25"});i.execute(function(t){console.log(t.result),$("#search-container").html(""),$.each(t.result.items,function(t,i){if("youtube#video"==i.id.kind){var e=$("<div />",{"class":"songResult"});e.data("url",i.id.videoId);var n=$("<img />",{src:i.snippet.thumbnails["default"].url}),o=$("<div />"),s=$("<p />",{text:i.snippet.title,"class":"title"});o.append(s);var a=$("<div />",{"class":"imageWrapper"});a.append(n),e.append(a),e.append(o),$("#search-container").append(e)}})})}function a(t){console.log("Adding.. "+t.id),d.emit("addsong",t)}function l(){$("#addDialog").show(),$("#search").focus().val("")}function r(){$("#addDialog").hide()}var d=io("//:3000");d.on("connect",function(){console.log("connected to websocket server")}),d.on("disconnect",function(){console.log("disconnected"),$(".media-controls .btn, #shutdown").addClass("disabled")}),setTimeout(n,1e3),$("#search-container").on("click","> div",function(){var t={id:$(this).data("url"),title:$(this).find("p.title").text(),thumbnail:$(this).find("img").attr("src")};a(t),$(this).addClass("added")}),$("#addButton").click(function(){l()}),$(document).keyup(function(t){if(40!=t.keyCode&&74!=t.keyCode){if(38!=t.keyCode&&75!=t.keyCode){if(27==t.keyCode&&r(),$(t.target).is("#search")){if(13==t.keyCode&&$(".highlight").length)return void $(".highlight").click();s($("#search").val())}$(t.target).is("input")||(65==t.keyCode||13==t.keyCode)&&l()}else if($(".highlight").length){var i=$(".highlight");i.prev().addClass("highlight"),i.removeClass("highlight")}}else if($(".highlight").length){var i=$(".highlight");i.next().addClass("highlight"),i.removeClass("highlight")}else $("#search-container > .songResult:first-child").addClass("highlight")}),$("#addDialogClose, .overlay").click(function(){r()}),$(window).on("scroll",function(){var t=window.pageYOffset,i=120;t>i?$("header").addClass("scrolled"):$("header").removeClass("scrolled")});var c=function(){this.playlists={}};c.prototype.setPlaylist=function(t){this.addPlaylist(t),this.playlistID=t.ID},c.prototype.addPlaylist=function(t,i){(i===!0||"undefined"==typeof this.playlists[t.ID])&&(this.playlists[t.ID]=new u(t))},c.prototype.getPlaylist=function(){return this.playlists[this.playlistID]};var u=function(t){this.ID=t.ID,this.songs=[],this.El=$(".queue-container"),this.build(t)};u.prototype.build=function(t){$.each(t.songs,function(t,i){this.El.append(this.buildSong(i))}.bind(this))},u.prototype.buildSong=function(t){var i=$("<div />",{"class":"songResult",id:"song-"+t.youTubeID,"data-state":t.state,"data-duration":t.data.duration}),e=$("<img />",{src:t.thumbnail}),n=$("<p />",{"class":"title",text:t.data.title}),o=$("<div />",{"class":"imageWrapper"});return o.append(e),i.append(o),i.append(n),i},u.prototype.removeSong=function(t){this.El.children("#song-"+t.youTubeID).remove();for(var i=0;i<this.songs.length;i++){var e=this.songs[i];if(e.youTubeID===t.youTubeID){this.songs.splice(i,1);break}}};var h=new c;d.on("playlist",function(t){h.setPlaylist(t)}),d.on("songRemove",function(t){h.getPlaylist().removeSong(t)})},{}]},{},[1]);